<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Mis XV A√±os ‚Äì Luisa</title>
<link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:ital,wght@0,300;0,400;0,600;1,300;1,400&family=Jost:wght@200;300;400&display=swap" rel="stylesheet">
<style>
*,*::before,*::after{margin:0;padding:0;box-sizing:border-box}
:root{
  --gold:#d4956a;--gold-light:#f2c8b0;--gold-dark:#b06840;
  --rose:#e8929e;--rose-deep:#c45a6e;--rose-light:#f8dde2;
  --cream:#fff5f7;--sky1:#020818;--sky2:#070d2a;--sky3:#0d1545;
  --star:#fffbe8;--moon:#fdf4cc;
  --violet:rgba(167,139,250,1);--violet-dim:rgba(167,139,250,0.7);
}
html{scroll-behavior:smooth}
body{background:var(--sky1);font-family:'Jost',sans-serif;font-weight:300;overflow-x:hidden;cursor:none;min-height:100vh;overflow:hidden}

/* ‚îÄ‚îÄ CURSOR ‚îÄ‚îÄ */
.cursor{position:fixed;width:7px;height:7px;background:var(--star);border-radius:50%;pointer-events:none;z-index:99999;transform:translate(-50%,-50%);box-shadow:0 0 8px 3px rgba(255,251,232,0.7)}
.cursor-ring{position:fixed;width:28px;height:28px;border:1px solid rgba(255,251,232,0.3);border-radius:50%;pointer-events:none;z-index:99998;transform:translate(-50%,-50%);transition:width .3s,height .3s,border-color .3s}

/* ‚îÄ‚îÄ STARFIELD ‚îÄ‚îÄ */
#starfield{position:fixed;inset:0;z-index:0;pointer-events:none}

/* ‚îÄ‚îÄ SHOOTING STARS ‚îÄ‚îÄ */
.shoot{position:fixed;height:1px;pointer-events:none;z-index:1;opacity:0;background:linear-gradient(90deg,transparent,rgba(255,255,255,0.9),transparent);animation:shoot var(--dur) var(--delay) infinite linear}
@keyframes shoot{0%{opacity:0;transform:translateX(0) translateY(0)}5%{opacity:1}70%{opacity:.8}100%{opacity:0;transform:translateX(var(--tx)) translateY(var(--ty))}}

/* ‚îÄ‚îÄ NEBULAE ‚îÄ‚îÄ */
.nebula{position:fixed;border-radius:50%;filter:blur(90px);pointer-events:none;z-index:0;animation:neb-pulse var(--dur,14s) infinite ease-in-out alternate}
@keyframes neb-pulse{0%{opacity:.5;transform:scale(1)}100%{opacity:.85;transform:scale(1.12)}}

/* ‚îÄ‚îÄ SPARKLE PARTICLES ‚îÄ‚îÄ */
.particles{position:fixed;inset:0;pointer-events:none;z-index:1;overflow:hidden}
.sparkle-p{position:absolute;opacity:0;animation:sp-rise var(--dur) var(--delay) infinite ease-in-out}
.sparkle-p svg{display:block}
@keyframes sp-rise{0%{opacity:0;transform:translateY(100vh) scale(0) rotate(0deg)}8%{opacity:.7}90%{opacity:.15}100%{opacity:0;transform:translateY(-8vh) scale(1.3) rotate(400deg)}}

/* ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê ENVELOPE SCENE ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê */
#env-scene{position:fixed;inset:0;z-index:100;display:flex;flex-direction:column;align-items:center;justify-content:center;transition:opacity 1s ease,visibility 1s}
#env-scene.hidden{opacity:0;visibility:hidden;pointer-events:none}

.moon-deco{position:absolute;top:6%;right:7%;opacity:0;animation:moon-rise 1.8s 0.4s forwards cubic-bezier(.22,1,.36,1)}
@keyframes moon-rise{from{opacity:0;transform:translateY(18px)}to{opacity:1;transform:translateY(0)}}

.env-hint{font-size:10px;letter-spacing:6px;color:rgba(255,251,232,0.4);text-transform:uppercase;margin-bottom:52px;text-align:center;opacity:0;animation:fade-in 1s 2s forwards;display:flex;align-items:center;gap:12px}
.env-hint b{animation:blink 1.8s infinite;display:flex}
@keyframes blink{0%,100%{opacity:.3}50%{opacity:1}}

.env-wrap{position:relative;width:370px;height:258px;cursor:none;opacity:0;animation:rise-in 1.2s 0.5s forwards cubic-bezier(.22,1,.36,1);filter:drop-shadow(0 20px 70px rgba(100,60,200,0.28)) drop-shadow(0 0 40px rgba(200,160,255,0.1));transition:filter .35s,transform .35s}
.env-wrap:hover{filter:drop-shadow(0 28px 90px rgba(100,60,200,0.45)) drop-shadow(0 0 55px rgba(200,160,255,0.2));transform:scale(1.025) translateY(-3px)}

.env-body{position:absolute;inset:0;background:linear-gradient(160deg,#12082a 0%,#0d0620 50%,#07041a 100%);border:1px solid rgba(180,130,255,0.2);overflow:hidden}
.env-body::before{content:'';position:absolute;bottom:0;left:0;width:0;height:0;border-style:solid;border-width:129px 0 0 185px;border-color:transparent transparent transparent rgba(150,100,255,0.055)}
.env-body::after{content:'';position:absolute;bottom:0;right:0;width:0;height:0;border-style:solid;border-width:0 0 129px 185px;border-color:transparent transparent rgba(150,100,255,0.055) transparent}
.env-star-bg{position:absolute;inset:0;background-image:radial-gradient(circle,rgba(255,255,255,0.75) 1px,transparent 1px);background-size:28px 28px;opacity:.07}
.env-lines{position:absolute;inset:13px;border:1px solid rgba(200,160,255,0.07);pointer-events:none}
.env-bottom{position:absolute;bottom:0;left:0;right:0;height:129px;background:linear-gradient(180deg,#100520,#07041a);clip-path:polygon(0 100%,50% 0%,100% 100%)}
.env-flap{position:absolute;top:0;left:0;right:0;height:152px;background:linear-gradient(160deg,#1c0b38,#100520);clip-path:polygon(0 0,50% 100%,100% 0);transform-origin:top center;transition:transform 0.85s cubic-bezier(.22,1,.36,1);z-index:10;border-bottom:1px solid rgba(200,160,255,0.1)}
.env-flap.open{transform:rotateX(-180deg)}

.seal{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);width:68px;height:68px;border-radius:50%;background:radial-gradient(circle at 38% 38%,#4a2060 0%,#1e0840 100%);border:2px solid rgba(200,160,255,0.6);display:flex;align-items:center;justify-content:center;z-index:20;cursor:none;box-shadow:0 0 0 5px rgba(180,130,255,0.12),0 6px 28px rgba(100,60,200,0.5),0 0 50px rgba(180,130,255,0.18);transition:transform .3s;animation:seal-glow 3s infinite ease-in-out}
@keyframes seal-glow{0%,100%{box-shadow:0 0 0 5px rgba(180,130,255,0.12),0 6px 28px rgba(100,60,200,0.5),0 0 30px rgba(180,130,255,0.12)}50%{box-shadow:0 0 0 9px rgba(180,130,255,0.22),0 6px 40px rgba(100,60,200,0.7),0 0 70px rgba(180,130,255,0.3)}}
.seal:hover{transform:translate(-50%,-50%) scale(1.1)}
.seal.break{animation:seal-break .5s forwards}
@keyframes seal-break{0%{transform:translate(-50%,-50%) scale(1);opacity:1}35%{transform:translate(-50%,-50%) scale(1.3) rotate(15deg);opacity:1}100%{transform:translate(-50%,-60%) scale(0) rotate(-28deg);opacity:0}}

.letter-peek{position:absolute;bottom:17px;left:50%;transform:translateX(-50%) translateY(115%);width:298px;height:190px;background:linear-gradient(155deg,#12082a,#0d0520);border:1px solid rgba(200,160,255,0.3);display:flex;align-items:center;justify-content:center;flex-direction:column;gap:10px;transition:transform 0.95s 0.15s cubic-bezier(.22,1,.36,1);z-index:5;overflow:hidden;box-shadow:0 -4px 30px rgba(100,60,200,0.18)}
.letter-peek::before{content:'';position:absolute;inset:0;background-image:radial-gradient(circle,rgba(255,255,255,0.55) 1px,transparent 1px);background-size:18px 18px;opacity:.055}
.letter-peek.show{transform:translateX(-50%) translateY(0)}
.lp-name{font-family:'Cormorant Garamond',serif;font-style:italic;font-size:34px;color:var(--moon);letter-spacing:2px;text-shadow:0 0 22px rgba(253,230,138,0.45)}
.lp-sub{font-family:'Cormorant Garamond',serif;font-size:12px;letter-spacing:9px;color:rgba(200,160,255,0.75);text-transform:uppercase}
.lp-icons{display:flex;align-items:center;gap:14px;margin-top:4px;opacity:.65}

/* ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê INVITATION ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê */
#inv-wrap{position:relative;z-index:2;opacity:0;visibility:hidden;transition:opacity .7s ease}
#inv-wrap.visible{opacity:1;visibility:visible}

.sky-bg{position:fixed;inset:0;z-index:0;pointer-events:none;background:radial-gradient(ellipse 100% 55% at 50% 0%,#0d1545 0%,transparent 65%),radial-gradient(ellipse 60% 50% at 12% 50%,rgba(80,40,160,0.22) 0%,transparent 60%),radial-gradient(ellipse 50% 40% at 88% 25%,rgba(196,90,110,0.1) 0%,transparent 60%),radial-gradient(ellipse 80% 80% at 50% 100%,rgba(60,20,120,0.28) 0%,transparent 60%),var(--sky1);opacity:0;transition:opacity 1.2s .5s}
.sky-bg.show{opacity:1}

.inv-moon-wrap{position:fixed;top:4%;right:5%;z-index:3;pointer-events:none;opacity:0;transition:opacity 1s 1.2s}
.inv-moon-wrap.show{opacity:1}

.constellation{position:fixed;top:0;left:0;right:0;height:130px;pointer-events:none;z-index:2;opacity:0;transition:opacity 1.8s 1.8s}
.constellation.show{opacity:1}

.invitation{position:relative;z-index:2;min-height:100vh;display:flex;flex-direction:column;align-items:center;justify-content:center;padding:90px 24px 110px;color:var(--cream)}

.inv-item{opacity:0;transform:translateY(26px);transition:opacity .8s ease,transform .8s cubic-bezier(.22,1,.36,1)}
.inv-item.show{opacity:1;transform:translateY(0)}

.top-badge{display:flex;align-items:center;gap:10px;margin-bottom:6px}

.line-decor{display:flex;align-items:center;gap:14px}
.ld-bar{display:block;height:1px;width:55px;background:linear-gradient(90deg,transparent,rgba(200,160,255,0.6))}
.ld-bar.r{background:linear-gradient(90deg,rgba(200,160,255,0.6),transparent)}
.line-decor em{font-family:'Cormorant Garamond',serif;font-style:italic;color:rgba(200,160,255,0.85);font-size:13px;letter-spacing:4px;text-transform:uppercase;font-weight:300}

.xv-number{font-family:'Cormorant Garamond',serif;font-size:clamp(96px,22vw,196px);font-weight:300;line-height:1;letter-spacing:-8px;background:linear-gradient(135deg,#a78bfa,var(--rose-light),var(--moon),var(--rose),#c4b5fd);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;position:relative;filter:drop-shadow(0 0 28px rgba(167,139,250,0.35))}
.xv-number::after{content:'XV';position:absolute;inset:0;background:none;-webkit-text-fill-color:transparent;-webkit-text-stroke:1px rgba(200,160,255,0.1);transform:translate(5px,5px);z-index:-1}

.name{font-family:'Cormorant Garamond',serif;font-size:clamp(40px,10vw,84px);font-weight:300;font-style:italic;letter-spacing:2px;color:var(--moon);margin-top:-18px;text-align:center;text-shadow:0 0 40px rgba(253,230,138,0.28)}
.subtitle{margin-top:22px;font-size:11px;letter-spacing:6px;color:rgba(200,160,255,0.75);text-transform:uppercase}

.star-divider{margin:42px auto;display:flex;align-items:center;gap:10px}
.sd-bar{width:65px;height:1px;background:linear-gradient(90deg,transparent,rgba(200,160,255,0.5))}
.sd-bar.r{background:linear-gradient(90deg,rgba(200,160,255,0.5),transparent)}
.sd-icons{display:flex;gap:8px;align-items:center}
.sd-icon{animation:twink var(--d,2s) var(--dl,0s) infinite ease-in-out}
@keyframes twink{0%,100%{opacity:.25;transform:scale(.75)}50%{opacity:1;transform:scale(1.1)}}

.info-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(195px,1fr));gap:20px;width:100%;max-width:700px}
.info-card{border:1px solid rgba(150,100,255,0.18);padding:26px 20px;text-align:center;background:rgba(80,40,160,0.07);position:relative;overflow:hidden;transition:border-color .3s,background .3s,transform .3s}
.info-card::before{content:'';position:absolute;inset:0;background:linear-gradient(135deg,rgba(150,100,255,0.09),rgba(232,146,158,0.04));opacity:0;transition:opacity .3s}
.info-card::after{content:'';position:absolute;top:-1px;left:18%;right:18%;height:1px;background:linear-gradient(90deg,transparent,rgba(200,160,255,0.4),transparent)}
.info-card:hover{border-color:rgba(200,160,255,0.45);background:rgba(100,60,200,0.1);transform:translateY(-5px)}
.info-card:hover::before{opacity:1}
.card-icon-wrap{display:flex;justify-content:center;margin-bottom:12px;opacity:.8}
.card-label{font-size:9px;letter-spacing:5px;color:rgba(200,160,255,0.8);text-transform:uppercase;margin-bottom:7px;display:block}
.card-value{font-family:'Cormorant Garamond',serif;font-size:21px;font-weight:400;line-height:1.3;color:var(--cream)}
.card-sub{font-size:11px;color:rgba(255,245,247,.38);margin-top:4px;display:block;letter-spacing:1px}

/* ‚ïê‚ïê COUNTDOWN CLOCK ‚ïê‚ïê */
.countdown-section{margin-top:60px;text-align:center;width:100%;max-width:760px;position:relative;padding:48px 24px 44px;background:linear-gradient(160deg,rgba(18,6,44,0.65),rgba(10,4,28,0.8));border:1px solid rgba(150,100,255,0.2);backdrop-filter:blur(14px);overflow:hidden}
.countdown-section::before{content:'';position:absolute;top:-1px;left:10%;right:10%;height:1px;background:linear-gradient(90deg,transparent,rgba(200,160,255,0.55),rgba(253,230,138,0.3),rgba(200,160,255,0.55),transparent)}
.countdown-section::after{content:'';position:absolute;bottom:-1px;left:18%;right:18%;height:1px;background:linear-gradient(90deg,transparent,rgba(200,160,255,0.22),transparent)}
.cd-star-bg{position:absolute;inset:0;background-image:radial-gradient(circle,rgba(255,255,255,0.5) 1px,transparent 1px);background-size:22px 22px;opacity:.03;pointer-events:none}
.cd-glow{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);width:400px;height:160px;border-radius:50%;background:radial-gradient(ellipse,rgba(100,60,210,0.15),transparent 70%);pointer-events:none}

.countdown-title-row{display:flex;align-items:center;justify-content:center;gap:14px;margin-bottom:8px;position:relative;z-index:1}
.countdown-title-row em{font-family:'Cormorant Garamond',serif;font-style:italic;font-size:15px;letter-spacing:6px;color:rgba(200,160,255,0.7);text-transform:uppercase;font-weight:300}
.cd-event-date{font-family:'Cormorant Garamond',serif;font-size:12px;font-style:italic;color:rgba(253,230,138,0.48);letter-spacing:4px;margin-bottom:36px;display:block;position:relative;z-index:1}

/* ‚îÄ‚îÄ DIGITAL CLOCK STYLE ‚îÄ‚îÄ */
.clock-display{
  position:relative;z-index:1;
  display:flex;align-items:center;justify-content:center;
  gap:0;
  flex-wrap:wrap;
}

/* The main digital readout container */
.clock-track{
  display:inline-flex;align-items:center;
  background:linear-gradient(170deg,rgba(8,3,22,0.9),rgba(14,6,38,0.95));
  border:1px solid rgba(150,100,255,0.25);
  padding:22px 32px;
  position:relative;
  overflow:hidden;
  box-shadow:inset 0 0 40px rgba(100,60,200,0.15), 0 0 60px rgba(100,60,200,0.12);
}
.clock-track::before{
  content:'';position:absolute;top:-1px;left:8%;right:8%;height:1px;
  background:linear-gradient(90deg,transparent,rgba(200,160,255,0.5),rgba(253,230,138,0.25),rgba(200,160,255,0.5),transparent);
}
.clock-track::after{
  content:'';position:absolute;inset:0;
  background:linear-gradient(180deg,rgba(255,255,255,0.025) 0%,transparent 50%);
  pointer-events:none;
}

/* SCANLINE effect */
.clock-scan{
  position:absolute;inset:0;pointer-events:none;
  background:repeating-linear-gradient(0deg,transparent,transparent 3px,rgba(0,0,0,0.12) 3px,rgba(0,0,0,0.12) 4px);
  z-index:3;
}

/* Corner brackets on the clock */
.clk-corner{position:absolute;width:10px;height:10px;border-color:rgba(200,160,255,0.45);border-style:solid;pointer-events:none;z-index:4}
.clk-corner.tl{top:6px;left:6px;border-width:1px 0 0 1px}
.clk-corner.tr{top:6px;right:6px;border-width:1px 1px 0 0}
.clk-corner.bl{bottom:6px;left:6px;border-width:0 0 1px 1px}
.clk-corner.br{bottom:6px;right:6px;border-width:0 1px 1px 0}

/* DAYS segment ‚Äì special, big */
.seg-days{
  display:flex;flex-direction:column;align-items:center;
  margin-right:8px;padding-right:22px;
  border-right:1px solid rgba(150,100,255,0.2);
}
.seg-days-num{
  font-family:'Cormorant Garamond',serif;
  font-size:clamp(56px,12vw,90px);font-weight:300;line-height:1;
  background:linear-gradient(160deg,#fffde0 0%,#c4b5fd 55%,#a78bfa 100%);
  -webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;
  filter:drop-shadow(0 0 18px rgba(167,139,250,0.7));
  letter-spacing:-2px;
  min-width:3ch;text-align:center;
  transition:all .4s;
}
.seg-days-label{
  font-size:8px;letter-spacing:7px;color:rgba(200,160,255,0.5);
  text-transform:uppercase;margin-top:4px;
}

/* HMS part */
.seg-hms{
  display:flex;flex-direction:column;align-items:flex-start;
  padding-left:22px;gap:4px;
}

/* Row for hours:mins:secs */
.hms-row{
  display:flex;align-items:center;gap:3px;
}

.hms-num{
  font-family:'Cormorant Garamond',serif;
  font-size:clamp(28px,6vw,48px);font-weight:300;line-height:1;
  background:linear-gradient(160deg,#fffde0,#e8b4ff);
  -webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;
  filter:drop-shadow(0 0 8px rgba(200,160,255,0.5));
  min-width:2ch;text-align:center;
  transition:all .3s;
}
.hms-colon{
  font-family:'Cormorant Garamond',serif;
  font-size:clamp(28px,6vw,48px);font-weight:300;line-height:1;
  color:rgba(200,160,255,0.5);
  animation:colon-blink 1s infinite;
  position:relative;top:-2px;
}
@keyframes colon-blink{0%,100%{opacity:1}49%{opacity:1}50%{opacity:.1}99%{opacity:.1}}

.hms-labels{
  display:flex;align-items:center;gap:3px;padding-left:1px;
}
.hms-lbl{
  font-size:7px;letter-spacing:3px;color:rgba(200,160,255,0.38);
  text-transform:uppercase;
  min-width:2ch;text-align:center;
}
.hms-lbl-space{width:14px;display:inline-block}

/* "Restante" suffix */
.seg-suffix{
  display:flex;flex-direction:column;align-items:flex-start;
  padding-left:20px;border-left:1px solid rgba(150,100,255,0.15);
  margin-left:6px;
}
.seg-suffix-line1{
  font-family:'Cormorant Garamond',serif;font-style:italic;
  font-size:13px;color:rgba(200,160,255,0.65);letter-spacing:3px;
}
.seg-suffix-line2{
  font-size:8px;letter-spacing:5px;color:rgba(253,230,138,0.45);
  text-transform:uppercase;margin-top:3px;
}

/* Flip animation */
.flip-in{animation:flip-in .4s cubic-bezier(.22,1,.36,1)}
@keyframes flip-in{0%{opacity:0;transform:translateY(-12px)}100%{opacity:1;transform:translateY(0)}}

/* Progress bar below clock */
.clock-progress-wrap{
  margin-top:24px;position:relative;z-index:1;
  width:100%;max-width:480px;margin-left:auto;margin-right:auto;
}
.clock-progress-label{
  display:flex;justify-content:space-between;
  font-size:8px;letter-spacing:4px;color:rgba(200,160,255,0.35);
  text-transform:uppercase;margin-bottom:8px;
}
.clock-progress-bar{
  height:2px;background:rgba(150,100,255,0.12);border-radius:1px;overflow:hidden;position:relative;
}
.clock-progress-fill{
  height:100%;border-radius:1px;
  background:linear-gradient(90deg,#a78bfa,var(--rose),#fde68a);
  transition:width 1s linear;
  box-shadow:0 0 8px rgba(167,139,250,0.6);
}
.clock-progress-dot{
  position:absolute;top:50%;transform:translateY(-50%);
  width:6px;height:6px;border-radius:50%;
  background:#fde68a;
  box-shadow:0 0 8px 3px rgba(253,230,138,0.6);
  transition:left 1s linear;
}

/* QUOTE */
.quote{margin:54px auto 0;max-width:500px;text-align:center;padding:0 16px;position:relative}
.quote::before{content:'"';position:absolute;top:-24px;left:0;font-family:'Cormorant Garamond',serif;font-size:90px;color:rgba(150,100,255,0.12);line-height:1}
.quote p{font-family:'Cormorant Garamond',serif;font-style:italic;font-size:20px;color:rgba(255,245,247,.65);line-height:1.85;font-weight:300}
.quote cite{display:block;margin-top:14px;font-size:10px;letter-spacing:4px;color:rgba(200,160,255,0.75);text-transform:uppercase}

/* LLUVIA SOBRES */
.sobre-note{
  margin-top:28px;
  display:flex;align-items:flex-start;gap:14px;
  background:rgba(80,40,160,0.07);
  border:1px solid rgba(150,100,255,0.14);
  padding:18px 22px;
  max-width:500px;width:100%;
  position:relative;
}
.sobre-note::after{content:'';position:absolute;top:-1px;left:18%;right:18%;height:1px;background:linear-gradient(90deg,transparent,rgba(200,160,255,0.3),transparent)}
.sobre-icon{flex-shrink:0;margin-top:2px;opacity:.7}
.sobre-text{font-size:12px;line-height:1.7;color:rgba(255,245,247,.55);font-family:'Cormorant Garamond',serif;font-style:italic;font-size:15px}
.sobre-text strong{color:rgba(200,160,255,0.8);font-style:normal;font-weight:400}

/* CTA */
.cta-section{margin-top:60px;text-align:center}
.cta-note{font-size:10px;letter-spacing:4px;color:rgba(255,245,247,.32);text-transform:uppercase;margin-bottom:22px;display:block}
.btn-confirm{display:inline-flex;align-items:center;gap:12px;padding:17px 48px;background:transparent;border:1px solid rgba(200,160,255,0.55);color:rgba(200,160,255,0.9);font-family:'Jost',sans-serif;font-weight:300;font-size:11px;letter-spacing:5px;text-transform:uppercase;text-decoration:none;cursor:none;position:relative;overflow:hidden;transition:color .45s;box-shadow:0 0 20px rgba(150,100,255,0.08)}
.btn-confirm::before{content:'';position:absolute;inset:0;background:linear-gradient(135deg,rgba(100,60,200,0.85),rgba(196,90,110,0.65));transform:translateX(-101%);transition:transform .45s cubic-bezier(.22,1,.36,1)}
.btn-confirm:hover::before{transform:translateX(0)}
.btn-confirm:hover{color:var(--cream);box-shadow:0 0 40px rgba(150,100,255,0.28)}
.btn-label,.btn-ic{position:relative;z-index:1}

.footer-note{margin-top:58px;text-align:center;font-size:10px;letter-spacing:3px;color:rgba(255, 245, 247, 0.299);text-transform:uppercase;display:flex;align-items:center;justify-content:center;gap:10px}

@keyframes fade-in{from{opacity:0}to{opacity:1}}
@keyframes rise-in{from{opacity:0;transform:translateY(30px)}to{opacity:1;transform:translateY(0)}}

#confetti{position:fixed;inset:0;pointer-events:none;z-index:300}

@media(max-width:600px){
  .env-wrap{width:294px;height:206px}
  .letter-peek{width:240px;height:154px}
  .info-grid{grid-template-columns:1fr 1fr}
  .xv-number{letter-spacing:-4px}
  .btn-confirm{padding:15px 26px;letter-spacing:3px}
  .clock-track{padding:18px 16px;gap:0}
  .seg-days-num{font-size:52px}
  .hms-num{font-size:26px}
  .hms-colon{font-size:26px}
  .seg-suffix{display:none}
  .seg-hms{padding-left:14px}
  .seg-days{padding-right:14px;margin-right:4px}
}
</style>
</head>
<body>

<div class="cursor" id="cursor"></div>
<div class="cursor-ring" id="cursorRing"></div>
<canvas id="starfield"></canvas>
<div class="particles" id="particles"></div>
<canvas id="confetti"></canvas>

<svg style="display:none">
  <defs>
    <symbol id="ico-moon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.4" stroke-linecap="round" stroke-linejoin="round">
      <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"/>
    </symbol>
    <symbol id="ico-star4" viewBox="0 0 24 24" fill="currentColor">
      <path d="M12 2 L13.5 10.5 L22 12 L13.5 13.5 L12 22 L10.5 13.5 L2 12 L10.5 10.5 Z"/>
    </symbol>
    <symbol id="ico-star5" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
      <polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"/>
    </symbol>
    <symbol id="ico-sparkle" viewBox="0 0 24 24" fill="currentColor">
      <path d="M12 1v4M12 19v4M1 12h4M19 12h4M4.22 4.22l2.83 2.83M16.95 16.95l2.83 2.83M4.22 19.78l2.83-2.83M16.95 7.05l2.83-2.83"/>
    </symbol>
    <symbol id="ico-calendar" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.4" stroke-linecap="round" stroke-linejoin="round">
      <rect x="3" y="4" width="18" height="18" rx="2" ry="2"/>
      <line x1="16" y1="2" x2="16" y2="6"/><line x1="8" y1="2" x2="8" y2="6"/>
      <line x1="3" y1="10" x2="21" y2="10"/>
    </symbol>
    <symbol id="ico-clock" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.4" stroke-linecap="round" stroke-linejoin="round">
      <circle cx="12" cy="12" r="10"/>
      <polyline points="12 6 12 12 16 14"/>
    </symbol>
    <symbol id="ico-pin" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.4" stroke-linecap="round" stroke-linejoin="round">
      <path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"/>
      <circle cx="12" cy="10" r="3"/>
    </symbol>
    <symbol id="ico-diamond" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.4" stroke-linecap="round" stroke-linejoin="round">
      <path d="M6 3h12l4 6-10 13L2 9z"/><path d="M2 9h20M6 3l4 6M18 3l-4 6"/>
    </symbol>
    <symbol id="ico-whatsapp" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
      <path d="M21 11.5a8.38 8.38 0 0 1-.9 3.8 8.5 8.5 0 0 1-7.6 4.7 8.38 8.38 0 0 1-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 0 1-.9-3.8 8.5 8.5 0 0 1 4.7-7.6 8.38 8.38 0 0 1 3.8-.9h.5a8.48 8.48 0 0 1 8 8v.5z"/>
    </symbol>
    <symbol id="ico-envelope" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.4" stroke-linecap="round" stroke-linejoin="round">
      <path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"/>
      <polyline points="22,6 12,13 2,6"/>
    </symbol>
  </defs>
</svg>

<!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê ENVELOPE SCENE ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
<div id="env-scene">
  <div class="moon-deco">
    <svg width="90" height="90" viewBox="0 0 90 90">
      <circle cx="45" cy="45" r="42" fill="none" stroke="rgba(253,230,138,0.12)" stroke-width="1"/>
      <circle cx="45" cy="45" r="36" fill="none" stroke="rgba(253,230,138,0.08)" stroke-width="1"/>
      <circle cx="45" cy="45" r="28" fill="url(#moonGrad)"/>
      <circle cx="55" cy="36" r="5" fill="rgba(160,110,30,0.22)"/>
      <circle cx="38" cy="52" r="3.5" fill="rgba(160,110,30,0.18)"/>
      <circle cx="50" cy="54" r="2" fill="rgba(160,110,30,0.15)"/>
      <defs>
        <radialGradient id="moonGrad" cx="35%" cy="35%">
          <stop offset="0%" stop-color="#fffde0"/>
          <stop offset="45%" stop-color="#fde68a"/>
          <stop offset="100%" stop-color="#c89030"/>
        </radialGradient>
      </defs>
    </svg>
  </div>

  <p class="env-hint">
    <b><svg width="12" height="12"><use href="#ico-star4" style="color:rgba(255,251,232,0.7)"/></svg></b>
    <span>Toca el sello para abrir</span>
    <b><svg width="12" height="12"><use href="#ico-star4" style="color:rgba(255,251,232,0.7)"/></svg></b>
  </p>

  <div class="env-wrap" id="envWrap">
    <div class="letter-peek" id="letterPeek">
      <div class="lp-name">Luisa</div>
      <div class="lp-sub">¬∑ XV A√±os ¬∑</div>
      <div class="lp-icons">
        <svg width="16" height="16" style="color:rgba(200,160,255,0.7)"><use href="#ico-moon"/></svg>
        <svg width="14" height="14" style="color:rgba(255,251,232,0.6)"><use href="#ico-star4"/></svg>
        <svg width="16" height="16" style="color:rgba(200,160,255,0.7)"><use href="#ico-moon"/></svg>
      </div>
    </div>
    <div class="env-body">
      <div class="env-star-bg"></div>
      <div class="env-lines"></div>
      <div class="env-bottom"></div>
      <div class="env-flap" id="envFlap"></div>
      <div class="seal" id="seal">
        <svg width="32" height="32" style="color:rgba(220,180,255,0.9)"><use href="#ico-moon"/></svg>
      </div>
    </div>
  </div>
</div>

<!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê INVITATION ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
<div class="sky-bg" id="skyBg"></div>
<div class="inv-moon-wrap" id="invMoon">
  <svg width="88" height="88" viewBox="0 0 90 90">
    <circle cx="45" cy="45" r="42" fill="none" stroke="rgba(253,230,138,0.1)" stroke-width="1"/>
    <circle cx="45" cy="45" r="36" fill="none" stroke="rgba(253,230,138,0.07)" stroke-width="1"/>
    <circle cx="45" cy="45" r="28" fill="url(#moonGrad2)"/>
    <circle cx="55" cy="36" r="5" fill="rgba(160,110,30,0.22)"/>
    <circle cx="38" cy="52" r="3.5" fill="rgba(160,110,30,0.18)"/>
    <defs>
      <radialGradient id="moonGrad2" cx="35%" cy="35%">
        <stop offset="0%" stop-color="#fffde0"/>
        <stop offset="45%" stop-color="#fde68a"/>
        <stop offset="100%" stop-color="#c89030"/>
      </radialGradient>
    </defs>
  </svg>
</div>

<svg class="constellation" id="constellation" viewBox="0 0 1440 130" preserveAspectRatio="none">
  <g stroke="rgba(200,160,255,0.22)" stroke-width="0.7" fill="none">
    <line x1="70" y1="28" x2="155" y2="58"/><line x1="155" y1="58" x2="270" y2="22"/>
    <line x1="270" y1="22" x2="395" y2="68"/><line x1="395" y1="68" x2="510" y2="32"/>
    <line x1="510" y1="32" x2="610" y2="50"/>
    <line x1="830" y1="42" x2="960" y2="18"/><line x1="960" y1="18" x2="1080" y2="55"/>
    <line x1="1080" y1="55" x2="1210" y2="28"/><line x1="1210" y1="28" x2="1370" y2="62"/>
  </g>
  <g fill="rgba(255,251,232,0.65)">
    <circle cx="70" cy="28" r="2.2"/><circle cx="155" cy="58" r="1.6"/>
    <circle cx="270" cy="22" r="2.8"/><circle cx="395" cy="68" r="1.6"/>
    <circle cx="510" cy="32" r="2.2"/><circle cx="610" cy="50" r="1.4"/>
    <circle cx="830" cy="42" r="2.2"/><circle cx="960" cy="18" r="2.8"/>
    <circle cx="1080" cy="55" r="1.6"/><circle cx="1210" cy="28" r="2.2"/>
    <circle cx="1370" cy="62" r="1.6"/>
  </g>
</svg>

<div id="inv-wrap">
  <div class="invitation">

    <div class="top-badge inv-item">
      <svg width="14" height="14" style="color:rgba(200,160,255,0.5)"><use href="#ico-star4"/></svg>
      <svg width="18" height="18" style="color:rgba(200,160,255,0.7)"><use href="#ico-moon"/></svg>
      <svg width="14" height="14" style="color:rgba(200,160,255,0.5)"><use href="#ico-star4"/></svg>
    </div>

    <div class="line-decor inv-item">
      <span class="ld-bar"></span><em>Mis Quince A√±os</em><span class="ld-bar r"></span>
    </div>

    <div class="xv-number inv-item">XV</div>
    <div class="name inv-item">Luisa</div>
    <div class="subtitle inv-item">Bajo un cielo lleno de estrellas</div>

    <div class="star-divider inv-item">
      <div class="sd-bar"></div>
      <div class="sd-icons">
        <span class="sd-icon" style="--d:2.2s;--dl:0s"><svg width="11" height="11" style="color:rgba(255,251,232,0.7)"><use href="#ico-star5"/></svg></span>
        <span class="sd-icon" style="--d:2.9s;--dl:.4s"><svg width="15" height="15" style="color:rgba(255,251,232,0.9)"><use href="#ico-sparkle"/></svg></span>
        <span class="sd-icon" style="--d:2s;--dl:.2s"><svg width="11" height="11" style="color:rgba(255,251,232,0.7)"><use href="#ico-star5"/></svg></span>
      </div>
      <div class="sd-bar r"></div>
    </div>

    <div class="info-grid inv-item">
      <div class="info-card">
        <div class="card-icon-wrap"><svg width="26" height="26" style="color:rgba(200,160,255,0.8)"><use href="#ico-calendar"/></svg></div>
        <span class="card-label">Fecha</span>
        <div class="card-value">9 de Mayo</div>
        <span class="card-sub">2026 ¬∑ S√°bado</span>
      </div>
      <div class="info-card">
        <div class="card-icon-wrap"><svg width="26" height="26" style="color:rgba(200,160,255,0.8)"><use href="#ico-clock"/></svg></div>
        <span class="card-label">Hora</span>
        <div class="card-value">6:00 PM</div>
        <span class="card-sub">Inicio de la misa</span>
      </div>
      <div class="info-card" style="cursor:pointer" onclick="window.open('https://maps.app.goo.gl/AK1W734nNwYtKhwt8','_blank')">
        <div class="card-icon-wrap"><svg width="26" height="26" style="color:rgba(200,160,255,0.8)"><use href="#ico-pin"/></svg></div>
        <span class="card-label">Lugar</span>
        <div class="card-value">Club del Comercio</div>
        <span class="card-sub">Sal√≥n Rojo ¬∑ Ver mapa ‚Üó</span>
      </div>
      <div class="info-card">
        <div class="card-icon-wrap"><svg width="26" height="26" style="color:rgba(200,160,255,0.8)"><use href="#ico-diamond"/></svg></div>
        <span class="card-label">Dress Code</span>
        <div class="card-value">Formal Elegante</div>
        <span class="card-sub">Color azul reservado</span>
      </div>
    </div>

    <!-- COUNTDOWN CLOCK -->
    <div class="countdown-section inv-item">
      <div class="cd-star-bg"></div>
      <div class="cd-glow"></div>

      <div class="countdown-title-row">
        <svg width="12" height="12" style="color:rgba(200,160,255,0.55)"><use href="#ico-star4"/></svg>
        <em>Faltan para brillar bajo las estrellas</em>
        <svg width="12" height="12" style="color:rgba(200,160,255,0.55)"><use href="#ico-star4"/></svg>
      </div>
      <span class="cd-event-date">9 de Mayo ¬∑ 6:00 PM</span>

      <div class="clock-display">
        <div class="clock-track">
          <div class="clk-corner tl"></div>
          <div class="clk-corner tr"></div>
          <div class="clk-corner bl"></div>
          <div class="clk-corner br"></div>
          <div class="clock-scan"></div>

          <!-- DAYS -->
          <div class="seg-days">
            <div class="seg-days-num" id="cd-days">00</div>
            <div class="seg-days-label">d√≠as</div>
          </div>

          <!-- H:M:S -->
          <div class="seg-hms">
            <div class="hms-row">
              <span class="hms-num" id="cd-hours">00</span>
              <span class="hms-colon">:</span>
              <span class="hms-num" id="cd-mins">00</span>
              <span class="hms-colon">:</span>
              <span class="hms-num" id="cd-secs">00</span>
            </div>
            <div class="hms-labels">
              <span class="hms-lbl">h</span>
              <span class="hms-lbl-space"></span>
              <span class="hms-lbl">min</span>
              <span class="hms-lbl-space"></span>
              <span class="hms-lbl">seg</span>
            </div>
          </div>

          <!-- SUFFIX -->
          <div class="seg-suffix">
            <div class="seg-suffix-line1">restante</div>
            <div class="seg-suffix-line2">‚ú® para tu noche</div>
          </div>
        </div>
      </div>

      <!-- Progress bar -->
      <div class="clock-progress-wrap" id="progressWrap">
        <div class="clock-progress-label">
          <span>hoy</span>
          <span>9 mayo 2026</span>
        </div>
        <div class="clock-progress-bar">
          <div class="clock-progress-fill" id="progressFill" style="width:0%"></div>
          <div class="clock-progress-dot" id="progressDot" style="left:0%"></div>
        </div>
      </div>
    </div>

    <div class="quote inv-item">
      <p>"Bajo un cielo lleno de estrellas comienza mi nueva historia."</p>
      <cite>‚Äî Luisa</cite>
    </div>

    <!-- LLUVIA DE SOBRES -->
    <div class="sobre-note inv-item">
      <div class="sobre-icon">
        <svg width="22" height="22" style="color:rgba(253,230,138,0.7)"><use href="#ico-envelope"/></svg>
      </div>
      <div class="sobre-text">
        <strong>Lluvia de sobres</strong><br>
        Tu presencia es mi mejor regalo, pero si deseas tener un detalle especial, habr√° lluvia de sobres.
      </div>
    </div>

    <div class="cta-section inv-item">
      <span class="cta-note">Confirma tu asistencia antes del 30 de abril</span>
      <a class="btn-confirm" id="whatsappBtn" href="#" target="_blank">
        <span class="btn-ic"><svg width="18" height="18" style="color:currentColor"><use href="#ico-whatsapp"/></svg></span>
        <span class="btn-label">Confirmar Asistencia</span>
      </a>
    </div>

    <div class="footer-note inv-item">
      <svg width="12" height="12" style="color:rgba(200,160,255,0.3)"><use href="#ico-moon"/></svg>
      <span>Con amor, Luisa &amp; Familia ¬∑ 2026</span>
      <svg width="12" height="12" style="color:rgba(200,160,255,0.3)"><use href="#ico-moon"/></svg>
    </div>

  </div>
</div>

<script>
/* ‚îÄ‚îÄ CURSOR ‚îÄ‚îÄ */
const cursor=document.getElementById('cursor'),ring=document.getElementById('cursorRing');
let mx=0,my=0,rx=0,ry=0;
document.addEventListener('mousemove',e=>{mx=e.clientX;my=e.clientY;cursor.style.left=mx+'px';cursor.style.top=my+'px'});
(function loop(){rx+=(mx-rx)*.12;ry+=(my-ry)*.12;ring.style.left=rx+'px';ring.style.top=ry+'px';requestAnimationFrame(loop)})();
document.addEventListener('touchmove',e=>{const t=e.touches[0];mx=t.clientX;my=t.clientY},{passive:true});
document.querySelectorAll('a,.info-card,.seal,.env-wrap').forEach(el=>{
  el.addEventListener('mouseenter',()=>{ring.style.width='48px';ring.style.height='48px';ring.style.borderColor='rgba(200,160,255,0.55)'});
  el.addEventListener('mouseleave',()=>{ring.style.width='28px';ring.style.height='28px';ring.style.borderColor='rgba(255,251,232,0.3)'});
});

/* ‚îÄ‚îÄ STARFIELD ‚îÄ‚îÄ */
const sf=document.getElementById('starfield'),sc=sf.getContext('2d');
let stars=[];
function resizeSF(){sf.width=innerWidth;sf.height=innerHeight;buildStars()}
function buildStars(){
  stars=[];
  const n=Math.floor(sf.width*sf.height/1200);
  for(let i=0;i<n;i++){
    const rnd=Math.random();
    stars.push({x:Math.random()*sf.width,y:Math.random()*sf.height,r:rnd<.55?.5:rnd<.82?1:rnd<.95?1.5:2.2,a:.15+Math.random()*.85,ts:.004+Math.random()*.014,td:Math.random()>.5?1:-1,tMin:.08,col:Math.random()>.82?`hsl(${240+Math.random()*55},75%,82%)`:'#fffbe8'});
  }
}
function drawStars(){
  sc.clearRect(0,0,sf.width,sf.height);
  stars.forEach(s=>{
    s.a+=s.ts*s.td;
    if(s.a>=1){s.a=1;s.td=-1}
    if(s.a<=s.tMin){s.a=s.tMin;s.td=1}
    sc.beginPath();sc.arc(s.x,s.y,s.r,0,Math.PI*2);sc.fillStyle=s.col;sc.globalAlpha=s.a;sc.fill();
    if(s.r>=1.5){sc.beginPath();sc.arc(s.x,s.y,s.r+2.5,0,Math.PI*2);sc.globalAlpha=s.a*.2;sc.fill()}
    sc.globalAlpha=1;
  });
  requestAnimationFrame(drawStars);
}
window.addEventListener('resize',resizeSF);resizeSF();drawStars();

/* ‚îÄ‚îÄ SHOOTING STARS ‚îÄ‚îÄ */
function addShoot(){
  const el=document.createElement('div');el.className='shoot';
  const sx=15+Math.random()*55,sy=3+Math.random()*28;
  const ang=18+Math.random()*22,len=130+Math.random()*220;
  const tx=Math.cos(ang*Math.PI/180)*len,ty=Math.sin(ang*Math.PI/180)*len;
  const dur=1.1+Math.random()*1.6,delay=Math.random()*5;
  el.style.cssText=`top:${sy}%;left:${sx}%;width:${len}px;transform:rotate(${ang}deg);--dur:${dur}s;--delay:${delay}s;--tx:${tx}px;--ty:${ty}px`;
  document.body.appendChild(el);
  setTimeout(()=>el.remove(),(dur+delay+.5)*1000*5);
}
for(let i=0;i<5;i++)addShoot();
setInterval(addShoot,3800);

/* ‚îÄ‚îÄ NEBULAE ‚îÄ‚îÄ */
[{w:700,h:420,t:'8%',l:'2%',c:'rgba(100,55,185,0.18)',d:'15s'},{w:550,h:360,t:'38%',r:'3%',c:'rgba(75,35,155,0.14)',d:'19s'},{w:750,h:320,t:'68%',l:'18%',c:'rgba(190,80,100,0.09)',d:'13s'}].forEach(n=>{
  const el=document.createElement('div');el.className='nebula';
  el.style.cssText=`width:${n.w}px;height:${n.h}px;top:${n.t||'auto'};left:${n.l||'auto'};right:${n.r||'auto'};background:${n.c};--dur:${n.d}`;
  document.body.appendChild(el);
});

/* ‚îÄ‚îÄ SVG SPARKLE PARTICLES ‚îÄ‚îÄ */
const pc=document.getElementById('particles');
const sparkleTypes=[`<svg width="12" height="12" style="color:rgba(255,251,232,0.6)"><use href="#ico-star4"/></svg>`,`<svg width="10" height="10" style="color:rgba(200,160,255,0.55)"><use href="#ico-sparkle"/></svg>`,`<svg width="9" height="9" style="color:rgba(255,251,232,0.45)"><use href="#ico-star5"/></svg>`,`<svg width="8" height="8" style="color:rgba(200,160,255,0.4)"><use href="#ico-star4"/></svg>`];
for(let i=0;i<50;i++){
  const p=document.createElement('div');p.className='sparkle-p';
  p.innerHTML=sparkleTypes[~~(Math.random()*sparkleTypes.length)];
  p.style.cssText=`left:${Math.random()*100}%;bottom:${Math.random()*8}%;--dur:${9+Math.random()*13}s;--delay:${Math.random()*11}s`;
  pc.appendChild(p);
}

/* ‚îÄ‚îÄ CONFETTI ‚îÄ‚îÄ */
const cfv=document.getElementById('confetti'),cctx=cfv.getContext('2d');
let pieces=[],cfActive=false;
function resizeCF(){cfv.width=innerWidth;cfv.height=innerHeight}
window.addEventListener('resize',resizeCF);resizeCF();
const CF_COLS=['#e8929e','#c4b5fd','#fde68a','#f2c8b0','#a78bfa','#fff0f3','#c0c8ff'];

function drawStar4(ctx,x,y,size,color,alpha){ctx.save();ctx.globalAlpha=alpha;ctx.fillStyle=color;ctx.translate(x,y);ctx.beginPath();const s=size/2;ctx.moveTo(0,-s);ctx.lineTo(s*.35,-s*.35);ctx.lineTo(s,0);ctx.lineTo(s*.35,s*.35);ctx.lineTo(0,s);ctx.lineTo(-s*.35,s*.35);ctx.lineTo(-s,0);ctx.lineTo(-s*.35,-s*.35);ctx.closePath();ctx.fill();ctx.restore()}
function drawDiamond(ctx,x,y,size,color,alpha){ctx.save();ctx.globalAlpha=alpha;ctx.fillStyle=color;ctx.translate(x,y);ctx.beginPath();ctx.moveTo(0,-size*.6);ctx.lineTo(size*.4,0);ctx.lineTo(0,size*.6);ctx.lineTo(-size*.4,0);ctx.closePath();ctx.fill();ctx.restore()}

function spawnConfetti(){
  cfActive=true;
  for(let i=0;i<220;i++){
    const shape=Math.random()>.5?'star':'diamond';
    pieces.push({x:Math.random()*cfv.width,y:-10-Math.random()*300,shape,size:6+~~(Math.random()*12),color:CF_COLS[~~(Math.random()*CF_COLS.length)],vx:(Math.random()-.5)*3.5,vy:1.4+Math.random()*3.8,rot:Math.random()*Math.PI*2,rv:(Math.random()-.5)*.1,life:200+~~(Math.random()*110)});
  }
}
function drawCF(){
  if(!cfActive)return;
  cctx.clearRect(0,0,cfv.width,cfv.height);
  let alive=false;
  pieces.forEach(p=>{p.x+=p.vx;p.y+=p.vy;p.rot+=p.rv;p.life--;if(p.life<=0)return;alive=true;const alpha=Math.min(1,p.life/55);cctx.save();cctx.translate(p.x,p.y);cctx.rotate(p.rot);if(p.shape==='star')drawStar4(cctx,0,0,p.size,p.color,alpha);else drawDiamond(cctx,0,0,p.size,p.color,alpha);cctx.restore()});
  pieces=pieces.filter(p=>p.life>0);
  if(alive)requestAnimationFrame(drawCF);
  else{cfActive=false;cctx.clearRect(0,0,cfv.width,cfv.height)}
}

/* ‚îÄ‚îÄ OPEN ENVELOPE ‚îÄ‚îÄ */
let opened=false;
function openEnvelope(){
  if(opened)return;opened=true;
  document.getElementById('seal').classList.add('break');
  setTimeout(()=>document.getElementById('envFlap').classList.add('open'),380);
  setTimeout(()=>document.getElementById('letterPeek').classList.add('show'),960);
  setTimeout(()=>{spawnConfetti();drawCF()},700);
  setTimeout(()=>document.getElementById('env-scene').classList.add('hidden'),1950);
  setTimeout(()=>{
    document.body.style.overflow='auto';
    document.getElementById('inv-wrap').classList.add('visible');
    document.getElementById('skyBg').classList.add('show');
    document.getElementById('invMoon').classList.add('show');
    document.getElementById('constellation').classList.add('show');
    document.querySelectorAll('.inv-item').forEach((el,i)=>{setTimeout(()=>el.classList.add('show'),i*165)});
    startCountdown();
    const phone='573197954445';
    const msg=encodeURIComponent('¬°Hola! Confirmo mi asistencia a los XV A√±os de Luisa el 9 de Mayo de 2026 en el Club del Comercio ‚Äì Sal√≥n Rojo üåô‚ú®');
    document.getElementById('whatsappBtn').href=`https://wa.me/${phone}?text=${msg}`;
  },2150);
}
document.getElementById('seal').addEventListener('click',openEnvelope);
document.getElementById('envWrap').addEventListener('click',openEnvelope);
document.getElementById('envWrap').addEventListener('touchend',e=>{e.preventDefault();openEnvelope()});

/* ‚îÄ‚îÄ COUNTDOWN CLOCK ‚Äî 9 de Mayo 2026, 6:00 PM ‚îÄ‚îÄ */
function pad(n){return String(n).padStart(2,'0')}

function setFlip(id, val){
  const el = document.getElementById(id);
  if(!el) return;
  const pv = pad(val);
  if(el.textContent !== pv){
    el.classList.remove('flip-in');
    void el.offsetWidth;
    el.classList.add('flip-in');
    el.textContent = pv;
  }
}

function startCountdown(){
  const target = new Date('2026-05-09T18:00:00');
  // reference start: today minus 90 days back (just for progress bar visual)
  const startRef = new Date(target);
  startRef.setDate(startRef.getDate() - 90);

  function tick(){
    const now  = new Date();
    const diff = target - now;

    if(diff <= 0){
      const ct = document.querySelector('.countdown-section');
      ct.innerHTML = '<div style="font-family:Cormorant Garamond,serif;font-style:italic;font-size:28px;color:rgba(200,160,255,0.9);letter-spacing:3px;padding:20px 0">¬°Ya es la noche de Luisa!</div>';
      return;
    }

    const d = ~~(diff / 86400000);
    const h = ~~(diff % 86400000 / 3600000);
    const m = ~~(diff % 3600000  / 60000);
    const s = ~~(diff % 60000    / 1000);

    setFlip('cd-days',  d);
    setFlip('cd-hours', h);
    setFlip('cd-mins',  m);
    setFlip('cd-secs',  s);

    // Progress bar
    const totalSpan = target - startRef;
    const elapsed   = now - startRef;
    const pct = Math.min(100, Math.max(0, (elapsed / totalSpan) * 100));
    const fillEl = document.getElementById('progressFill');
    const dotEl  = document.getElementById('progressDot');
    if(fillEl) fillEl.style.width = pct + '%';
    if(dotEl)  dotEl.style.left  = pct + '%';
  }

  tick();
  setInterval(tick, 1000);
}
</script>
</body>
</html>
